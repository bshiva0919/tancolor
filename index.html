<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>tancolor.js interactive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <link href="css/demo.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.png">

    <link href="css/prism.css" rel="stylesheet" />
    
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="demo-headline">
        <h1 class="demo-logo">
            tancolor.js
          <small>A jQuery plugin that processes image.</small>
        </h1>
        <div class="login">
        <div class="login-screen">
          <div class="login-icon">
            <img id="myImage" src="images/obama.jpg" alt="I am Obama">
          </div>

          <div class="login-form">
          
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="rweight">r_weight</label>
                </div>
                <div class="col-xs-3">
                  <input id="r_weight_text" type="text" class="form-control" value="0.34">
                </div>
                <input type="range" name="points" min="1" max="1000" id="r_weight" value="340">
              </div>
            </div>
            
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="gweight">g_weight</label>
                </div>
                <div class="col-xs-3">
                  <input id="g_weight_text" type="text" class="form-control" value="0.5">
                </div>
                <input type="range" name="points" min="1" max="1000" id="g_weight" value="500">
              </div>
            </div>
            
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="bweight">b_weight</label>
                </div>
                <div class="col-xs-3">
                  <input id="b_weight_text" type="text" class="form-control" value="0.16">
                </div>
                <input type="range" name="points" min="1" max="1000" id="b_weight" value="160">
              </div>
            </div>
            
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="rintensity">r_intensity</label>
                </div>
                <div class="col-xs-3">
                  <input id="r_intensity_text" type="text" class="form-control" value="1">
                </div>
                <input type="range" name="points" min="1" max="1000" id="r_intensity" value="4">
              </div>
            </div>
            
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="g_intensity">g_intensity</label>
                </div>
                <div class="col-xs-3">
                  <input id="g_intensity_text" type="text" class="form-control" value="1">
                </div>
                <input type="range" name="points" min="1" max="1000" id="g_intensity" value="4">
              </div>
            </div>
            
            <div class="row">
              <div class="control-group pull-left">
                <div class="col-xs-3">
                  <label for="bintensity">b_intensity</label>
                </div>
                <div class="col-xs-3">
                  <input id="b_intensity_text" type="text" class="form-control" value="1">
                </div>
                <input type="range" name="points" min="1" max="1000" id="b_intensity" value="4">
              </div>
            </div>

            

          </div>
        </div>
      </div>
      <p>
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="nicolaisi" data-size="large">Tweet</a>
      <iframe src="http://ghbtns.com/github-btn.html?user=nicolaisi&repo=tancolor
&type=watch&count=true" height="20" width="107" frameborder="0" scrolling="0" style="width:205px; height: 20px;" allowTransparency="true"></iframe>
      <iframe src="http://ghbtns.com/github-btn.html?user=nicolaisi&repo=tancolor&type=fork&count=true" height="20" width="107" frameborder="0" scrolling="0" style="width:105px; height: 20px;" allowTransparency="true"></iframe>
              <iframe src="http://ghbtns.com/github-btn.html?user=nicolaisi&type=follow&count=true" height="20" width="195" frameborder="0" scrolling="0" style="width:195px; height: 20px;" allowTransparency="true"></iframe>
      </p>
      </div> <!-- /demo-headline -->
      
      <h3 class="tile-title">Default modes</h3>
      
      <div class="row demo-tiles"><br>
        <div class="col-md-3">
          <div class="tile">
            <img id="grayscale" src="images/obama.jpg" alt="I am Obama">
            <p>
            <pre><code class="language-javascript">$("#myImage").tancolor();</code></pre>
            </p>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img id="red" src="images/obama.jpg" alt="I am Obama">
            <p>
            <pre><code class="language-javascript">$("#myImage").tancolor({mode: "red"});</code></pre>
            </p>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img id="green" src="images/obama.jpg" alt="I am Obama">
            <p>
            <pre><code class="language-javascript">$("#myImage").tancolor({mode: "green"});</code></pre>
            </p>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img id="blue" src="images/obama.jpg" alt="I am Obama">
            <p>
            <pre><code class="language-javascript">$("#myImage").tancolor({mode: "blue"});</code></pre>
            </p>
          </div>
        </div>
      </div> <!-- /tiles -->
      
      <h3 class="tile-title">Custom</h3>
      
      <pre><code class="language-javascript">$("#myImageID").tancolor({
    r_weight: 0.34,
    g_weight: 0.5,
    b_weight: 0.16,
    r_intensity: 1,
    g_intensity: 1,
    b_intensity: 1
});</code></pre>
      
      <div class="row demo-tiles"><br>
        <div class="col-md-3">
          <div class="tile">
            <img src="images/download.png" alt="Compas">
            <table class="table">
              <tr>
                <td>r_weight</td>
                <td>0.395</td>
              <tr>
              <tr>
                <td>g_weight</td>
                <td>0.179</td>
              <tr>
              <tr>
                <td>b_weight</td>
                <td>0.069</td>
              <tr>
              <tr>
                <td>r_intensity</td>
                <td>1</td>
              <tr>
              <tr>
                <td>g_intensity</td>
                <td>2</td>
              <tr>
              <tr>
                <td>b_intensity</td>
                <td>78</td>
              <tr>
            </table>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img src="images/download2.png" alt="Compas">
            <table class="table">
              <tr>
                <td>r_weight</td>
                <td>0.285</td>
              <tr>
              <tr>
                <td>g_weight</td>
                <td>0.306</td>
              <tr>
              <tr>
                <td>b_weight</td>
                <td>0.111</td>
              <tr>
              <tr>
                <td>r_intensity</td>
                <td>12</td>
              <tr>
              <tr>
                <td>g_intensity</td>
                <td>2</td>
              <tr>
              <tr>
                <td>b_intensity</td>
                <td>0</td>
              <tr>
            </table>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img src="images/download3.png" alt="Compas">
            <table class="table">
              <tr>
                <td>r_weight</td>
                <td>0.361</td>
              <tr>
              <tr>
                <td>g_weight</td>
                <td>0.238</td>
              <tr>
              <tr>
                <td>b_weight</td>
                <td>0.069</td>
              <tr>
              <tr>
                <td>r_intensity</td>
                <td>12</td>
              <tr>
              <tr>
                <td>g_intensity</td>
                <td>2</td>
              <tr>
              <tr>
                <td>b_intensity</td>
                <td>10</td>
              <tr>
            </table>
          </div>
        </div>

        <div class="col-md-3">
          <div class="tile">
            <img src="images/download4.png" alt="Compas">
            <table class="table">
              <tr>
                <td>r_weight</td>
                <td>0.361</td>
              <tr>
              <tr>
                <td>g_weight</td>
                <td>0.238</td>
              <tr>
              <tr>
                <td>b_weight</td>
                <td>0.069</td>
              <tr>
              <tr>
                <td>r_intensity</td>
                <td>1</td>
              <tr>
              <tr>
                <td>g_intensity</td>
                <td>2</td>
              <tr>
              <tr>
                <td>b_intensity</td>
                <td>1</td>
              <tr>
            </table>
          </div>
        </div>
      </div> <!-- /tiles -->
      
    </div>
    <!-- /.container -->
    


    <!-- Load JS here for greater good =============================-->
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap-switch.js"></script>
    <script src="js/flatui-checkbox.js"></script>
    <script src="js/flatui-radio.js"></script>
    <script src="js/jquery.tagsinput.js"></script>
    <script src="js/jquery.placeholder.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/jquery.tancolor.js"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    <script>
    $('input[type=range]').change(function () {
        var value = this.value;
        var id = this.id;
        var input_text = "#" + this.id + "_text";
        console.log(input_text);
        var res = id.split("_");
        console.log(res)
        if (res[1] == "intensity"){
            value = (value * 255) / 1000;
            value = Math.round(value);
        } else if (res[1] == "weight") {
            value = value / 1000; 
        }
        $(input_text).val(value);
        
        //update filter
        update_filter();
    });
    
    $('input[type=text]').change(function () {
        var value = this.value;
        var id = this.id;
        var res = id.split("_");
        console.log(res);
        var input_slider = "#" + res[0] + "_" + res[1];
        if (res[1] == "weight") {
            if (value > 1) {
                value = 1;
                $(this).val(1);
            } else if (value < 0) {
                value = 0;
                $(this).val(0);
            }
            value = value * 1000;
        } else if (res[1] == "intensity") {
            if (value > 255) {
                value = 255;
                $(this).val(255);
            } else if (value < 1) {
                value = 1;
                $(this).val(1);
            }
            value = (value * 1000)/255;
        }
        $(input_slider).val(value);
        
        // update filter
        update_filter();
    });

    function update_filter() {
        console.log(parseFloat($("#r_weight_text").val()));
        console.log(parseFloat($("#g_weight_text").val()));
        console.log(parseFloat($("#b_weight_text").val()));
        console.log(parseInt($("#r_intensity_text").val()));
        console.log(parseInt($("#g_intensity_text").val()));
        console.log(parseInt($("#b_intensity_text").val()));

        $("#myImage").tancolor({
            r_weight: parseFloat($("#r_weight_text").val()),
            g_weight: parseFloat($("#g_weight_text").val()),
            b_weight: parseFloat($("#b_weight_text").val()),
            r_intensity: parseInt($("#r_intensity_text").val()),
            g_intensity: parseInt($("#g_intensity_text").val()),
            b_intensity: parseInt($("#b_intensity_text").val())
        });
    }
    $(document).ready(function(){  
        $("#myImage").tancolor({});
        $("#grayscale").tancolor({});
        $("#red").tancolor({mode: "red"});
        $("#green").tancolor({mode: "green"});
        $("#blue").tancolor({mode: "blue"});  
    });  
    </script>
  </body>
</html>
